//
//  APIClient.m
//  Tekever-Digital
//
//  Created by Osama Fawzi on 10/2/19.
//  Copyright Â© 2019 Osama Fawzi. All rights reserved.
//

#import "APIClient.h"

static NSString * const APIBaseURLString = @"https://swapi.co/api/";
static NSString * const webHook = @"http://webhook.site/cab420db-f17b-4fb6-b569-d2ed93bce525";


@implementation APIClient

+ (instancetype)sharedClient {
    static APIClient *_sharedClient = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        _sharedClient = [[APIClient alloc] initWithBaseURL:[NSURL URLWithString:APIBaseURLString]];
        _sharedClient.securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModeNone];
    });
    
    return _sharedClient;
}


+ (instancetype)WebhookClient{
    static APIClient *_sharedClient = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        _sharedClient = [[APIClient alloc] initWithBaseURL:[NSURL URLWithString:webHook]];
        _sharedClient.securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModeNone];
    });
    
    return _sharedClient;
}

@end
